---
# Develbase tests, from root folder run: ./testme.sh.

- name: Apply base developer configuration.
  hosts: localhost
  connection: local
  gather_facts: false

  tasks:
  - name: Test with non-empty.
    debug:
      msg:
        - '__________________________________________________________________'
        - 'Testing with non-empty ...'
        - '        __....._'
        - '     .`` _  o    ``'
        - '   ." O (_)     () o`'
        - '  .           O        '
        - ' . ()   o__...__    O   '
        - '. _.--```       ```--._ '
        - ':`                     `'
        - ' `-.__    :    :   __.-`'
        - '      ```-:    :-```'
        - '         J     '
        - '         :     '
        - '        J       '
        - '        :       '
        - '        `._____.'
        - '__________________________________________________________________'


  - name: Apply configuration for user mary.
    include_role:
      name: constrict0r.develbase
    vars:
      user: mary

  - name: Verify curl package installed.
    file:
      path: /usr/bin/curl

  - name: Verify emacs package installed.
    file:
      path: /usr/bin/emacs

  - name: Verify emacs main configuration file created for user mary.
    file:
      path: /home/mary/.emacs.d/init.el
    become: true

  - name: Verify emacs theme setted for user mary.
    file:
      path:  /home/mary/.emacs.d/themes/wintermute-theme.el
